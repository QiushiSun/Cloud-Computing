## 2020Fall 云计算应用与开发 

### Lecture 1 Supplementary Videos

Google Data Center: https://www.youtube.com/watch?v=X-0V6bYfTpA

Microsoft Azure Data Center: https://www.youtube.com/watch?v=yfF3pOzdmlE

------

### Lecture2 云计算背后的技术-Part1

1. 数据中心（Data Center）的概念：容纳计算机系统及其相关组件（如通信系统和存储系统）的一组建筑物
2. 最早的数据中心：ENIAC（1940s），重三十吨，占地167$m^2$
3. 90年代末大型公司搭建互联网数据中心（Internet Data Center）
4. 云数据中心（Internet Data Center）：2010s

------

#### 数据中心与云计算

##### 云计算基础设施

1. 在不同地理区域建立冗余数据中心保证高可靠和高可用
2. 客户不需要维护本地的数据中心，转而使用IaaS，PaaS，Serverless，SaaS

（预计2021年，全球95%的数据中心将会是云计算数据中心）

------

#### 数据中心的组成

1. 服务器大厅：用于计算，存储和网络设备
2. 冷却场：包含冷却塔和冷却器
3. 电力场：发电机和配电中心
4. 消防系统和安保系统

<img src="images/Data Center Structure.png" alt="Data Center Structure" style="zoom:50%;" />

1. 数据中心中的永久性数据一般放置在storage里面，临时数据可以放在Rack/Servers上

2. 采用N+1冗余，即要N个部件工作的一个系统，额外加一个防止出现意外，完全冗余需要2n+1

------

#### 数据中心的能耗

1. 数据中心一般常年维持20摄氏度，否则会出现宕机，过热等故障
2. IT设备和制冷系统消耗大量电能，一次Google搜索会排放7g $CO_2$，两次Google搜索产生的热量可以煮沸一壶水

##### 能源效率

1. 概念：PUE(Power Usage Effectiveness)= 数据中心全部能耗/IT设备能耗，用于衡量冷却、照明等非IT设备的开销比率
2. 理想情况下PUE=1（显然是不可能做到的），美国数据中心平均PUE=2
3. PUE=1.2即被认为是"Energy Effective Data Center"

##### 可持数据中心（利用可再生资源（太阳能，风能，潮汐能等））

1. Azure部署水下数据中心
2. Facebook在北极圈附近部署数据中心
3. 阿里千岛湖数据中心

------

#### 云计算与虚拟化（云计算依赖虚拟化技术）

虚拟化是什么$\rightarrow$看操作系统

##### 为什么要虚拟化

1. 降低成本（大型主机 Vs. 多台小型主机）
2. 高灵活性（管理多台虚拟机 Vs. 管理多台物理主机）
3. 高敏捷性（虚拟机迁移 Vs. 物理主机迁移）
4. 容错能力强（虚拟节点失效 Vs. 物理节点失效）

AWS使用ECS(Elastic Container Service)，Azure使用Nested Virtualization

------

#### 多租户技术（Multitenancy）

多租户技术指的是一种软件架构，使得同一个应用程序可以同时服务多个独立的租户（一个租户通常包括一群权限共享的用户），不同租户享有专用的数据、配置和功能等等

##### 多租户技术显著的的一个好处：app维护的时候一次性维护就够了（易维护）

##### 多租户技术的优点：

1. 节约成本（资源池化）
2. 快速启动（不为单独一个租户启动一个应用）
3. 高可扩展性（有限的资源支持更多的租户）
4. 安全性（数据加密、访问控制、多重验证等）
5. 易维护性（一次维护、更新或升级服务所有租户）

多租户系统可以在不同层实现:

1. 应用层：隔离不同租户的应用程序环境（应用的不同进程隔离，进程的不同线程隔离）
2. 系统层：计算资源的隔离（虚拟机、虚拟网络）
3. 数据层：使用不同的方法将不同租户的数据隔离

------

#### 分布式系统（云本质上是一个分布式系统）

不同计算机利用网络互联，通过消息传递沟通并协同完成任务的系统（电信网络，基于网络的应用，实时处理系统。各种并行计算系统）

1. 云通过网络连接

2. 不同功能的服务器互相传递消息、协同工作

   • 客户端与服务器传递消息、使用服务

   • 不同客户端互相传递消息、共享服务

##### 分布式系统的特性与云计算

你会知道系统中某台计算机崩溃了，但是你的软件确永远不会。

​                                                                                     ——乔治·库鲁里斯

1. 容错性：单一的故障不会影响整个系统的正常运行，比如冗余、故障恢复。（高可靠&高可用）
2. 高可扩展性：自由对节点或功能进行扩充（弹性伸缩）
3. 并发：多台机器同时访问同一数据
4. 透明性：用户无需了解分布式系统内部结构

##### 分布式计算（Distributed Computing）：

#####  分布式存储（Distributed data store）：

通过网络接连将数据存储在多个计算机节点上，通常用一种复制（多副本）的方式。

##### 分布式资源管理（ Distributed Resource Scheduling ）：

集群管理/容器管理

------

#### 重复：云计算的三大核心技术：

1. 数据中心
2. 虚拟化
3. 多租户



